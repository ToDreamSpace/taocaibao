(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"275a":function(n,e,t){"use strict";(function(n){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;o(t("3b85"));function o(n){return n&&n.__esModule?n:{default:n}}var i={data:function(){return{phoneNumber:"",passwd:"",isShowOauth:!1,showProvider:{weixin:!1,qq:!1,sinaweibo:!1,xiaomi:!1}}},onShow:function(){},onLoad:function(){this.getProvider()},methods:{oauthLogin:function(e){n.showLoading(),n.login({provider:e,success:function(t){console.log("success: "+JSON.stringify(t)),n.getUserInfo({provider:e,success:function(e){console.log("用户信息："+JSON.stringify(e.userInfo)),n.setStorage({key:"UserInfo",data:{username:e.userInfo.nickName,face:e.userInfo.avatarUrl,signature:"个性签名",integral:0,balance:0,envelope:0},success:function(){n.hideLoading(),n.showToast({title:"登录成功",icon:"success"}),setTimeout((function(){n.navigateBack()}),300)}})}})},fail:function(n){console.log("fail: "+JSON.stringify(n))}})},getProvider:function(){var e=this;n.getProvider({service:"oauth",success:function(n){for(var t=n.provider.length,o=0;o<t;o++)e.showProvider[n.provider[o]]=!0;0==n.provider.length&&(e.isShowOauth=!1)}})},toPage:function(e){n.hideKeyboard(),n.navigateTo({url:e})},doLogin:function(){var e=this;if(n.hideKeyboard(),!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.phoneNumber))return n.showToast({title:"请填写正确手机号码",icon:"none"}),!1;""!=e.passwd&&null!=e.passwd&&void 0!=e.passwd||n.showToast({title:"请输入密码",icon:"none"}),n.showLoading({title:"提交中..."});n.request({url:e.$url+"login/login",data:{username:e.phoneNumber,password:e.passwd},method:"POST",success:function(e){1==e.data.code?(n.setStorageSync("token",e.data.token),n.switchTab({url:"../tabBar/user/user"})):n.showToast({title:e.data.msg,icon:"none"})}})}}};e.default=i}).call(this,t("543d")["default"])},"7ed9":function(n,e,t){"use strict";t.r(e);var o=t("9c67"),i=t("f49b");for(var a in i)"default"!==a&&function(n){t.d(e,n,(function(){return i[n]}))}(a);t("99e7");var s,r=t("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],s);e["default"]=u.exports},9210:function(n,e,t){},"99e7":function(n,e,t){"use strict";var o=t("9210"),i=t.n(o);i.a},"9c67":function(n,e,t){"use strict";var o,i=function(){var n=this,e=n.$createElement;n._self._c},a=[];t.d(e,"b",(function(){return i})),t.d(e,"c",(function(){return a})),t.d(e,"a",(function(){return o}))},a692:function(n,e,t){"use strict";(function(n){t("1013"),t("921b");o(t("66fd"));var e=o(t("7ed9"));function o(n){return n&&n.__esModule?n:{default:n}}n(e.default)}).call(this,t("543d")["createPage"])},f49b:function(n,e,t){"use strict";t.r(e);var o=t("275a"),i=t.n(o);for(var a in o)"default"!==a&&function(n){t.d(e,n,(function(){return o[n]}))}(a);e["default"]=i.a}},[["a692","common/runtime","common/vendor"]]]);